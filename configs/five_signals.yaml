# New optional-signal configuration (cache ART_MBP + new optionals)
# Same signals as default.yaml; kept for backward compatibility with existing CLI usage.

signals:
  - ART_SBP
  - ART_DBP
  - HR
  - ETCO2


required_signals:
  - ART_MBP
  - PLETH_HR
  - PLETH_SPO2
include_optional_signals: true


# Resampling configuration
fs_hz: 1.0
max_len_sec: 14400  # 4 hours
min_len_sec: 600    # 10 minutes
min_obs_points_per_channel: 60

# Feature time window / cutoff (anti-leakage)
cutoff_mode: early_intraop  # "early_intraop" or "preop"
t_cut_sec: 3600            # 60 minutes for early_intraop
preop_window_sec: 3600     # only used if cutoff_mode="preop"

# AKI label windows (seconds)
baseline_window_sec: 2592000   # 30 days
postop_window_sec: 604800     # 7 days

# Use with: python scripts/regenerate_folds.py --experiment-name 5_signal_exp --config configs/folds_cr_margin.yaml

fold_stratify_use_n_postop_labs: false
fold_stratify_use_cr_margin_bin: true
fold_cr_margin_rel_threshold: 0.10

# Cross-validation / splits
n_splits: 5
random_state: 42

# Performance settings
max_cases_to_cache: null  # null = all cases
n_threads: 4

# IO paths (will be updated with experiment_name)
api_base: "https://api.vitaldb.net"
artifacts_dir: "artifacts/new_optional_exp"
cache_dir: "artifacts/new_optional_exp/cache_npz"
tables_dir: "artifacts/new_optional_exp/tables"
scalers_dir: "artifacts/new_optional_exp/scalers"
plots_dir: "artifacts/new_optional_exp/plots"

# Training hyperparameters
epochs: 50
batch_size: 32
lr: 0.001
weight_decay: 0.0001
patience: 25
monitor: pr_auc  # "pr_auc" or "roc_auc"
device: cuda     # "cuda" or "cpu"

# Model architecture
model_hidden_dim: 64
model_num_layers: 2
model_dropout: 0.2

# Model architecture (attention/transformer specific)
model_num_heads: 4
model_use_multiscale: true
model_max_len: 3600
